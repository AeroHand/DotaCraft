// AbilityName
// Author: 
// Date: 13.1.2015.
// Notes: Raises 6 dead units in an area to fight for the Death Knight. Animated units are invulnerable.
//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
//N/A	40 sec.	180 sec.	175	40	90	Ground, Dead	Raises Dead Units	6
"death_knight_animate_dead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"death_knight_animate_dead"
		"MaxLevel"						"1"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
		"AbilityCastRange"				"900"
		"AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastPoint"				"0.453"
		"AbilityCooldown" "180"
		"AbilityManacost" "175"
		"precache"
		{
			"particle"				"particles/units/heroes/hero_skeletonking/wraith_king_reincarnate.vpcf"
			"particle"				"particles/status_fx/status_effect_terrorblade_reflection.vpcf"
			"soundfile"						"soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"resurrections_limit"			"6"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"resurrections_duration"			"40"
			}
		}
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/death_knight/animate_dead.lua"
				"Function"	"animate_dead_cast"
			}
		}
		"Modifiers"
		{
			"animate_dead_invulnerability"
			{
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target" "TARGET"
						"EffectName"	"particles/units/heroes/hero_skeletonking/wraith_king_reincarnate.vpcf"
						"EffectAttachType" "follow_overhead"
					}
					"FireSound"
					{
						"EffectName"		"Hero_Abaddon.AphoticShield.Cast"
						"Target"			  "CASTER"
					}
				}
				"StatusEffectName" "particles/status_fx/status_effect_abaddon_borrowed_time.vpcf"
   				"StatusEffectPriority" "15"
				"IsPurgable"	"0"
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DOMINATED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}