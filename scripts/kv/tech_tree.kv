// Tech Tree File
// Defines the requirements for being able to buy certain building/unit/upgrade

"human"
{
	// Building Creation - Builder Abilities
	// Treat buildings as Tech that can be destroyed
	// These abilities will show on the builder at all points, but as a disabled version that states the requirements if some of them aren't met.
	// To avoid having to search the building every time, each building will run a script on created/destroyed, to keep track of the current tech
	// The script will compare the requirements for any ability that mentions the created/destroyed unit, and update all builders accordingly.
	// Requirements aren't recursive, meaning if A is a requirement for B and B is a requirement for C, destroying A won't make you unable to build C as long as B is up.
	"build_blacksmith_disabled"
	{
		"human_town_hall"	"1"
	}

	"build_workshop_disabled"
	{
		"human_blacksmith"	"1"
		"human_keep"		"1"
	}

	"build_arcane_sanctum_disabled"
	{
		"human_blacksmith"	"1"
		"human_keep"		"1"
	}

	"build_gryphon_aviary_disabled"
	{
		"human_lumber_mill"	"1"
		"human_keep"		"1"
	}

	// Building Upgrade - Replaces the unit for a new one. Same as Building Creation but updates the building abilities instead
	// These abilities go on buildings, need to force the Max Level to 0 unlike builders
	"human_train_castle_disabled"
	{
		"human_altar_of_kings"	"1"
	}

	"human_train_cannon_tower_disabled"
	{
		"human_workshop"	"1"
	}

	"human_train_guard_tower_disabled"
	{
		"human_lumber_mill"	"1"
	}

	// Unit Creation - Disallow queing these units if the player doesnt have the required buildings.
	"human_train_rifleman_disabled"
	{
		"human_blacksmith"	"1"
	}

	"human_train_knight_disabled"
	{
		"human_blacksmith"	"1"
		"human_lumber_mill"	"1"
		"human_castle"		"1"
	}

	"human_train_spell_breaker_disabled"
	{
		"human_arcane_vault"	"1"
		"human_keep"			"1"
	}

	"human_train_siege_engine_disabled"
	{
		"human_castle"	"1"
	}

	"human_train_gryphon_rider_disabled"
	{
		"human_castle"		"1"
	}

	"human_train_dragonhawk_rider_disabled"
	{
		"human_arcane_vault"	"1"
	}

	// Technology Upgrades - Building abilities - Research
	// Destroying the building doesn't remove the upgrade, these are permanent until the game ends
	// Having the previous upgrade is not a requirement, as lvl 2-3 tech will only appear on the building whenever the first one is acquired
	// Tech Upgrade abilities are hidden once they are researched
	// Each time a unit spawns it should check for its upgrades. 
	// Each time an upgrade is finished, it should go through all the units and apply it.	
	
	// Town Hall / Keep / Castle
	"human_research_backpack_disabled"
	{
		"human_arcane_vault"	"1"
	}

	// Barracks
	"human_research_long_rifles_disabled" 
	{
		"human_blacksmith"	"1"
	}

	"human_research_animal_war_training_disabled" 
	{
		"human_blacksmith"	"1"
		"human_lumber_mill"	"1"
		"human_castle"		"1"
	}

	// Lumber Mill: Lumber Harvesting and Masonry.
	"human_research_lumber_harvesting_1_disabled"
	{
		"human_keep"		"1"			
	}

	"human_research_lumber_harvesting_2_disabled"
	{
		"human_castle"	"1"
	}

	// "masonry_1" has no requirements
	"human_research_masonry_2_disabled"
	{
		"human_keep"		"1"
	}

	"human_research_masonry_3_disabled"
	{
		"human_castle"	"1"
	}

	// BlackSmith: 4 Upgrades for Melee, Plate, Ranged and Leather http://puu.sh/g2NQR/9d47f6c538.jpg
	// 1st level doesn't have requirement, 2nd level has Keep, 3rd level has Castle
	"human_research_melee_weapons_2_disabled" 
	{
		"human_keep"		"1"
	}

	"human_research_melee_weapons_3_disabled" 
	{
		"human_castle"	"1"
	}

	"human_research_plating_2_disabled"
	{
		"human_keep"		"1"
	}

	"human_research_plating_3_disabled" 
	{
		"human_castle"	"1"	
	}

	"human_research_ranged_weapons_2_disabled" 
	{
		"human_keep"		"1"	
	}

	"human_research_ranged_weapons_3_disabled" 
	{
		"human_castle"	"1"	
	}

	"human_research_leather_armor_2_disabled" 
	{
		"human_keep"		"1"	
	}

	"human_research_leather_armor_3_disabled" 
	{
		"human_castle"	"1"	
	}

	// Arcane Sanctum
	"human_research_control_magic_disabled" 
	{
		"human_arcane_vault"	"1"
		"human_castle"		"1"
	}

	"human_research_priest_master_training_disabled" 
	{
		"human_castle"	"1"
	}

	"human_research_sorceress_master_training_disabled" 
	{
		"human_castle"	"1"
	}

	// Workshop
	"human_research_flare_disabled"
	{
		"human_keep"		"1"
	}

	"human_research_flak_cannons_disabled"
	{
		"human_castle"	"1"
	}

	"human_research_flying_machine_bombs_disabled"
	{
		"human_castle"		"1"
	}

	"human_research_fragmentation_shards_disabled"
	{
		"human_castle"		"1"
	}

	"human_research_barrage_disabled"
	{
		"human_castle"		"1"
	}

	// Gryphon Aviary
	"human_research_storm_hammers_disabled"
	{
		"human_castle"		"1"
	}

	"human_research_cloud_disabled"
	{
		"human_castle"		"1"
		"human_arcane_vault"	"1"
	}

	// Altar of Kings: Each additional hero requires a Town Hall upgrade (So 2nd hero requires a Keep, and 3rd a Castle)

	// Arcane Vault Items: 
	// Keep: Potion of Healing, Mana, TP Scroll, Ivory Tower
	// Castle: Orb of Fire, Staff of Sanctuary
}